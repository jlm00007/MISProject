@page
@model MISProject.Pages.playerPositionModel
@{
    var position = HttpContext.Request.Query["position"];
}
<head>
    <link rel="stylesheet" href="site.css" />
    <style>
        #Head {
            display: flex;
            justify-content: space-around;
            font-family: Impact;
            color: ghostwhite;
        }

        body {
            background-color: cornflowerblue;
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
        }

        #main {
            background-color: ghostwhite;
            border: solid 2px;
            display: flex;
            justify-content: space-around;
        }

    </style>
</head>


<h1 style="text-align:center; color:ghostwhite;">Choose a Position</h1>
<body>
    <div id="main">
        <div>
            <a href="/playerPosition?position=catcher">Catcher</a>
        </div>
        <div>
            <a href="/playerPosition?position=pitcher">Pitcher</a>
        </div>
        <div>
            <a href="/playerPosition?position=first base">First Base</a>
        </div>
        <div>
            <a href="/playerPosition?position=second base">Second Base</a>
        </div>
        <div>
            <a href="/playerPosition?position=shortstop">Shortstop</a>
        </div>
        <div>
            <a href="/playerPosition?position=third base">Third Base</a>
        </div>
        <div>
            <a href="/playerPosition?position=left field">Left Field</a>
        </div>
        <div>
            <a href="/playerPosition?position=center field">Center Field</a>
        </div>
        <div>
            <a href="/playerPosition?position=right field">Right Field</a>
        </div>
        <div>
            <a href="/playerPosition?position=designated hitter">Designated Hitter</a>
        </div>
    </div>
</body>













<body>
        <div style="color:ghostwhite; visibility:hidden; justify-content:inherit;flex-direction:column" id="names"></div>
        <div style="color:indianred; visibility:hidden; justify-content:inherit; flex-direction:column" id="numbers"></div>
        <div id="positions"></div>
    <script>
         
        // Define the displayPlayerPos function
        async function displayPlayerPos(position) {
            const response = await fetch(`https://localhost:7270/api/Player/position/${position}`);
            const data = await response.json();
            const namesElement = document.getElementById('names');
            const numbersElement = document.getElementById('numbers');
            const positionsElement = document.getElementById('positions');
            
            // Clear previous data
            namesElement.innerHTML = '';
            numbersElement.innerHTML = '';
            positionsElement.innerHTML = '';
            
            data.forEach(player => {
                const playerDiv = document.createElement('div');


                playerDiv.textContent = `${player.name} ${player.number}`;


                namesElement.appendChild(playerDiv);
            });
           
            // Make elements visible
            namesElement.style.visibility = 'visible';
            numbersElement.style.visibility = 'visible';
            positionsElement.style.visibility = 'hidden';
        } 
    // Call the function with the position parameter
   displayPlayerPos("@position");
    </script>
    
</body>